(this["webpackJsonpreact-pomodoro"]=this["webpackJsonpreact-pomodoro"]||[]).push([[0],{14:function(e,t,a){e.exports=a(21)},19:function(e,t,a){},20:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(2),r=a(0),l=a.n(r),c=a(7),s=a.n(c),i=(a(19),a(8)),m=a(9),d=a(3),u=a(12),g=a(10);function p(e){return l.a.createElement("button",{className:"btn toggle-btn","aria-pressed":e.currentCounting===e.value,"aria-label":"set current session to ".concat(e.value.toLowerCase(),"."),id:"default-".concat(e.value.toLowerCase()),onClick:e.handleDefaultBtn},"en"===e.lang?e.value:e.LANG_MAP[e.value])}function f(e){var t=l.a.createElement("div",{id:"pomodoro-heading"},l.a.createElement("p",null,"Time to ",e.currentCounting," ",e.currentTask?"".concat("Work"===e.currentCounting?"on":"from"," ").concat(e.currentTask.name):""),e.currentTask?l.a.createElement("p",null,e.currentTask.targetPomodoros?"Progress: ".concat(e.currentTask.completedPomodoros,"/").concat(e.currentTask.targetPomodoros):""):""),a=l.a.createElement("div",{id:"pomodoro-heading"},l.a.createElement("p",null,e.currentTask?"".concat(e.currentTask.name," \u7684"):"",e.LANG_MAP[e.currentCounting].replace(" ",""),"\u6642\u9593"),e.currentTask?l.a.createElement("p",null,e.currentTask.targetPomodoros?"".concat(e.LANG_MAP.Progress,": ").concat(e.currentTask.completedPomodoros,"/").concat(e.currentTask.targetPomodoros):""):"");return Object(r.useEffect)((function(){!function(e,t,a,n){var o=n/("Work"===e?60*t:60*a)*100;document.querySelector(".progress__filled").style.flexBasis="".concat(o,"%")}(e.currentCounting,e.workLength,e.breakLength,e.timeLeft)}),[e.currentCounting,e.workLength,e.breakLength,e.timeLeft]),l.a.createElement("div",{id:"display-panel","aria-label":"pomodoro display panel"},"en"===e.lang?t:a,l.a.createElement("div",{className:"progress"},l.a.createElement("div",{className:"progress__filled"})),l.a.createElement("p",{id:"time-left",role:"timer","aria-label":"Duration for ".concat(e.currentCounting)},e.clockify(e.timeLeft)),l.a.createElement("div",{id:"display-btn-group"},l.a.createElement("button",{"aria-label":"start ".concat(e.currentCounting),id:"start_stop",onClick:e.handleStartToggle,className:"btn-level"},l.a.createElement("i",{className:"fas ".concat(e.counting?"fa-pause":"fa-play"," fa-3x")})),l.a.createElement("button",{"aria-label":"reset to default duration, work 25 minutes and break 5 minutes",id:"reset",onClick:e.handleReset,className:"btn-level"},l.a.createElement("i",{className:"fas fa-redo fa-3x"}))))}function b(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}function h(e){var t=Object(r.useState)(!1),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(parseInt(e.breakLength)),i=Object(o.a)(s,2),m=i[0],d=i[1],u=Object(r.useState)(parseInt(e.workLength)),g=Object(o.a)(u,2),p=g[0],f=g[1];Object(r.useEffect)((function(){f(e.workLength),d(e.breakLength)}),[e.breakLength,e.workLength]);var h=Object(r.useRef)(null),k=Object(r.useRef)(null),E=Object(r.useRef)(null),v=b(n);function P(){c(!n),h.current.style.display="none"}function N(e){"new-break-length"===e.target.id?d(e.target.value):"new-work-length"===e.target.id&&f(e.target.value)}return Object(r.useEffect)((function(){!v&&n?(k.current.focus(),f(e.workLength),d(e.breakLength)):v&&!n&&E.current.focus()}),[n,v,e.workLength,e.breakLength]),window.onclick=function(e){e.target===h.current&&(h.current.style.display="none")},l.a.createElement("div",{className:"default-form-modal"},l.a.createElement("button",{id:"set-timer-btn",className:"btn",onClick:function(){e.counting||(c(!n),h.current.style.display="block")},ref:E,"aria-label":"set custom work and break duration"},l.a.createElement("i",{className:"fas fa-cog"})),l.a.createElement("div",{id:"myModal",className:"modal",ref:h},l.a.createElement("div",{className:"modal-content"},l.a.createElement("form",{id:"timer-form"},l.a.createElement("h2",null,"Timer Setting (minutes)"),l.a.createElement("fieldset",null,l.a.createElement("label",{htmlFor:"new-break-length"},"Break"),l.a.createElement("input",{id:"new-break-length",type:"number",min:"1",max:"60",value:m,onChange:N,ref:k,required:!0})),l.a.createElement("fieldset",null,l.a.createElement("label",{htmlFor:"new-work-length"},"Work"),l.a.createElement("input",{id:"new-work-length",type:"number",min:"1",max:"60",value:p,onChange:N,required:!0})),l.a.createElement("div",{id:"timer-form-btn-group"},l.a.createElement("button",{id:"timer-form-cancel",type:"button",className:"btn timer-form-btns",onClick:P},l.a.createElement("i",{className:"fas fa-times","aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"Cancel setting custom durations")),l.a.createElement("button",{id:"timer-form-save",type:"submit",className:"btn timer-form-btns",onClick:function(t){return function(t){t.preventDefault(),m<1|m>60|p<1|p>60||(e.handleTimerFormSubmit(m,p),P())}(t)}},l.a.createElement("i",{className:"far fa-save","aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"Save custom durations")))))))}var k=function(e){Object(u.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={breakLength:5,workLength:25,timeLeft:1500,counting:!1,currentCounting:"Work",english:!0},n.handleReset=n.handleReset.bind(Object(d.a)(n)),n.clockify=n.clockify.bind(Object(d.a)(n)),n.handleStartToggle=n.handleStartToggle.bind(Object(d.a)(n)),n.tick=n.tick.bind(Object(d.a)(n)),n.handleDefaultBtn=n.handleDefaultBtn.bind(Object(d.a)(n)),n.handleLanguage=n.handleLanguage.bind(Object(d.a)(n)),n.handleTimerFormSubmit=n.handleTimerFormSubmit.bind(Object(d.a)(n)),n}return Object(m.a)(a,[{key:"handleLanguage",value:function(){this.setState({english:!this.state.english}),this.state.english?document.documentElement.setAttribute("lang","zh-TW"):document.documentElement.setAttribute("lang","en")}},{key:"handleReset",value:function(){this.setState({breakLength:5,workLength:25,timeLeft:1500,counting:!1,currentCounting:"Work"}),clearInterval(this.intervalID);var e=document.getElementById("beep");e.pause(),e.currentTime=0,document.getElementById("time-left").style.color=null,document.getElementsByTagName("title")[0].text="Pomodoro Clock"}},{key:"handleDefaultBtn",value:function(e){this.state.counting||(e.target.id.includes("work")?this.setState({timeLeft:60*this.state.workLength,counting:!1,currentCounting:"Work"}):this.setState({timeLeft:60*this.state.breakLength,counting:!1,currentCounting:"Break"}))}},{key:"tick",value:function(){var e=this;if(this.state.timeLeft<=60?document.getElementById("time-left").style.color="#F8BFCE":document.getElementById("time-left").style.color=null,this.state.timeLeft<=0){clearInterval(this.intervalID),document.getElementById("beep").play();var t="Work"===this.state.currentCounting?"Break":"Work",a="Work"===this.state.currentCounting?60*this.state.breakLength:60*this.state.workLength;return document.getElementById("time-left").style.color=null,this.setState({timeLeft:a,currentCounting:t}),this.intervalID=setInterval((function(){e.tick()}),1e3),void(this.props.currentTask&&"Break"===t&&this.props.updateTaskProgress(this.props.currentTask.id))}this.setState({timeLeft:this.state.timeLeft-1}),document.getElementsByTagName("title")[0].text="(".concat(this.clockify(this.state.timeLeft),") Pomodoro Clock")}},{key:"handleStartToggle",value:function(){var e=this,t=document.getElementById("beep");t.play(),t.pause(),t.currentTime=0,this.state.counting?clearInterval(this.intervalID):this.intervalID=setInterval((function(){e.tick()}),1e3),this.setState((function(t){return{counting:!e.state.counting}}))}},{key:"clockify",value:function(e){var t=Math.floor(e/60),a=e-60*t;return(t=t<10?"0"+t:t)+":"+(a=a<10?"0"+a:a)}},{key:"handleTimerFormSubmit",value:function(e,t){this.setState({breakLength:parseInt(e),workLength:parseInt(t),timeLeft:60*parseInt(t),currentCounting:"Work"})}},{key:"render",value:function(){var e=this,t=["Break","Work"].map((function(t){return l.a.createElement(p,{value:t,key:"".concat(t,"-panel"),currentCounting:e.state.currentCounting,length:"Break"===t?e.state.breakLength:e.state.workLength,handleInDecrement:e.handleInDecrement,handleDefaultBtn:e.handleDefaultBtn,lang:e.props.lang,LANG_MAP:e.props.LANG_MAP})}));return l.a.createElement("div",{id:"pomodoro-panel"},l.a.createElement("h1",null,"en"===this.props.lang?"Pomodoro":this.props.LANG_MAP.Pomodoro),l.a.createElement("div",{id:"panels-wrapper"},l.a.createElement(f,{timeLeft:this.state.timeLeft,handleReset:this.handleReset,currentCounting:this.state.currentCounting,lang:this.props.lang,LANG_MAP:this.props.LANG_MAP,handleStartToggle:this.handleStartToggle,counting:this.state.counting,currentTask:this.props.currentTask,clockify:this.clockify,workLength:this.state.workLength,breakLength:this.state.breakLength}),l.a.createElement("div",{id:"defaultBtns-group",className:"btn-group"},t,l.a.createElement(h,{breakLength:this.state.breakLength,workLength:this.state.workLength,handleTimerFormSubmit:this.handleTimerFormSubmit,counting:this.state.counting}))),l.a.createElement("audio",{id:"beep",preload:"auto",src:"https://raw.githubusercontent.com/tsunghao-huang/react-pomodoro/gh-pages/homeland.mp3"}))}}]),a}(l.a.Component),E=a(11);a(20);var v=function(e){var t=Object(r.useState)(""),a=Object(o.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)(""),i=Object(o.a)(s,2),m=i[0],d=i[1],u=Object(r.useState)(!1),g=Object(o.a)(u,2),p=g[0],f=g[1],h=b(p),k=Object(r.useRef)(null),E=Object(r.useRef)(null),v=Object(r.useRef)(null);function P(e){"new-todo-input"===e.target.id?c(e.target.value):"new-todo-target-pomodoro"===e.target.id&&d(e.target.value)}var N=l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),""!==n.replace(/\s*/,"")&&(e.addTask(n,m),c(""),d(""),document.getElementById("new-todo-input").focus())}},l.a.createElement("fieldset",{id:"new-todo-fieldset"},l.a.createElement("label",{htmlFor:"new-todo-input",className:"label__lg"},"en"===e.lang?"What needs to be done?":e.LANG_MAP["What needs to be done?"]),l.a.createElement("input",{type:"text",id:"new-todo-input",className:"input input__lg",name:"text",autoComplete:"off",value:n,onChange:P,required:!0,placeholder:"".concat("en"===e.lang?"Todo":e.LANG_MAP.Todo),ref:k}),l.a.createElement("label",{htmlFor:"new-todo-target-pomodoro",className:"label__lg"},"".concat("en"===e.lang?"Target Pomodoros":e.LANG_MAP["Target Pomodoros"])),l.a.createElement("input",{type:"number",id:"new-todo-target-pomodoro",className:"input input__lg",value:m,onChange:P,min:"0",max:"57",placeholder:"".concat("en"===e.lang?"Pomodoros":e.LANG_MAP.Pomodoros,"?")})),l.a.createElement("div",{id:"form-btn-group",className:"todo-btn-group"},l.a.createElement("button",{type:"button",className:"btn",onClick:O},l.a.createElement("i",{className:"fas fa-times"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Cancel":e.LANG_MAP.Cancel,"adding new task")),l.a.createElement("button",{type:"submit",className:"btn"},l.a.createElement("i",{className:"fas fa-plus-circle"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Save":e.LANG_MAP.Save,"new task")))),L=l.a.createElement("button",{onClick:O,id:"add-todo-toggle-btn",className:"btn",ref:E},l.a.createElement("i",{className:"fas fa-plus-circle"}),"en"===e.lang?" Add a task":e.LANG_MAP["Add a task"]);function O(){f(!p)}return Object(r.useEffect)((function(){!h&&p&&(k.current.focus(),v.current.id="add-todo-form-edit"),h&&!p&&(E.current.focus(),v.current.id="add-todo-form")}),[h,p]),l.a.createElement("div",{id:"add-todo-form",ref:v},p?N:L)};var P=function(e){return l.a.createElement("button",{type:"button",className:"btn toggle-btn","aria-pressed":e.isPressed,onClick:function(){return e.setFilter(e.name)}},l.a.createElement("span",{className:"visually-hidden"},"Show "),l.a.createElement("span",null,"en"===e.lang?e.name:e.LANG_MAP[e.name]," "),l.a.createElement("span",{className:"visually-hidden"}," tasks"))};function N(e){var t=Object(r.useRef)(null),a=Object(r.useRef)(null),n=Object(r.useState)(!1),c=Object(o.a)(n,2),s=c[0],i=c[1],m=Object(r.useState)(e.name),d=Object(o.a)(m,2),u=d[0],g=d[1],p=Object(r.useState)(e.targetPomodoros),f=Object(o.a)(p,2),h=f[0],k=f[1],E=Object(r.useState)(e.completedPomodoros),v=Object(o.a)(E,2),P=v[0],N=v[1],L=b(s);function O(e){e.stopPropagation(),e.target.id.includes("completed-pomodoros")?N(e.target.value):e.target.id.includes("target-pomodoros")?k(e.target.value):g(e.target.value)}function j(e,t){e.stopPropagation(),i(t)}var A=l.a.createElement("form",{className:"stack-small"},l.a.createElement("div",{className:"form-group"},l.a.createElement("fieldset",{className:"todo-fieldset"},l.a.createElement("label",{className:"todo-label",htmlFor:e.id},"en"===e.lang?"New name for ".concat(e.name):"".concat(e.name," \u7684\u65b0\u540d\u5b57")),l.a.createElement("input",{id:e.id,className:"input input__lg edit-todo-name",type:"text",value:u,onChange:O,ref:t,required:!0}),l.a.createElement("div",{className:"edit-todo-pomodoros"},l.a.createElement("label",{className:"todo-label todo-label-pomodoros",htmlFor:"".concat(e.id,"-completed-pomodoros")},"en"===e.lang?"Completed Pomodoros":e.LANG_MAP["Completed Pomodoros"]),l.a.createElement("input",{id:"".concat(e.id,"-completed-pomodoros"),className:"input input__lg edit-todo-completed-pomodoros",type:"number",value:P,onChange:O,min:"0",max:h,placeholder:"Pomodoros?"})),l.a.createElement("div",{className:"edit-todo-pomodoros"},l.a.createElement("label",{className:"todo-label todo-label-pomodoros",htmlFor:"".concat(e.id,"-target-pomodoros")},"en"===e.lang?"Target Pomodoros":e.LANG_MAP["Target Pomodoros"]),l.a.createElement("input",{id:"".concat(e.id,"-target-pomodoros"),className:"input input__lg edit-todo-target-pomodoros",type:"number",value:h,onChange:O,min:P,max:"57",placeholder:"Pomodoros?"})))),l.a.createElement("div",{className:"todo-btn-group"},l.a.createElement("button",{type:"button",className:"btn todo-cancel",onClick:function(e){return j(e,!1)}},l.a.createElement("i",{className:"fas fa-times","aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Cancel":e.LANG_MAP.Cancel,"setting ",e.name)),l.a.createElement("button",{type:"submit",className:"btn btn__primary todo-edit",onClick:function(t){return function(t){t.stopPropagation(),t.preventDefault(),""!==u.replace(/\s*/,"")&&(e.editTask(e.id,u,P,h),i(!1))}(t)}},l.a.createElement("i",{className:"far fa-save","aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Save":e.LANG_MAP.Save,"new settings for ",e.name)))),y=l.a.createElement("div",{className:"stack-small"},l.a.createElement("div",{className:"c-cb"},l.a.createElement("button",{type:"button",className:"btn check-btn",onClick:function(t){return e.toggleTaskCompleted(t,e.id)},"aria-label":"".concat(e.completed?"uncheck":"check"," ").concat(e.name),"aria-live":"polite"},l.a.createElement("i",{className:"".concat(e.completed?"fas fa-check-circle":"far fa-circle"),"aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Edit":e.LANG_MAP.Edit,e.name)),l.a.createElement("div",{className:"todo-label ".concat(e.completed?"todo-label-checked":""),htmlFor:e.id},l.a.createElement("span",{className:"todo-label-name"},e.name),l.a.createElement("span",{className:"todo-label-progress"},0===e.targetPomodoros|""===e.targetPomodoros?"":"".concat("en"===e.lang?"Progress":e.LANG_MAP.Progress,": ").concat(e.completedPomodoros?e.completedPomodoros:0,"/").concat(e.targetPomodoros)))),l.a.createElement("div",{className:"todo-btn-group"},l.a.createElement("button",{type:"button",className:"btn btn__danger",onClick:function(t){return e.deleteTask(t,e.id)}},l.a.createElement("i",{className:"fas fa-trash-alt","aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Delete":e.LANG_MAP.Delete,e.name)),l.a.createElement("button",{type:"button",className:"btn",onClick:function(e){return j(e,!0)},ref:a},l.a.createElement("i",{className:"fas fa-pencil-alt","aria-hidden":"true"}),l.a.createElement("span",{className:"visually-hidden"},"en"===e.lang?"Edit":e.LANG_MAP.Edit,e.name))));return Object(r.useEffect)((function(){!L&&s&&(t.current.select(),t.current.focus(),g(e.name),N(e.completedPomodoros),k(e.targetPomodoros)),L&&!s&&a.current.focus()}),[L,s,e.name,e.completedPomodoros,e.targetPomodoros]),l.a.createElement("li",{id:"li-".concat(e.id),className:"todo stack-small ".concat(e.current?"todo-selected":""),onClick:function(){return e.updateCurrentTask(e.id)}},s?A:y)}var L=a(13),O={Active:function(e){return!e.completed},Completed:function(e){return e.completed},All:function(){return!0}},j=Object.keys(O);function A(e){var t=e.tasks,a=Object(r.useState)("All"),c=Object(o.a)(a,2),s=c[0],i=c[1];function m(a,o){a.stopPropagation();var r=t.map((function(e){return o===e.id?Object(n.a)(Object(n.a)({},e),{},{completed:!e.completed}):e})).map((function(e){return e.completed?Object(n.a)(Object(n.a)({},e),{},{completedPomodoros:parseInt(e.targetPomodoros)}):e.completedPomodoros===e.targetPomodoros?Object(n.a)(Object(n.a)({},e),{},{completedPomodoros:0}):e}));e.setTasks(r)}function d(a){var o=t.map((function(e){return a===e.id?Object(n.a)(Object(n.a)({},e),{},{current:!0}):Object(n.a)(Object(n.a)({},e),{},{current:!1})}));e.setTasks(o)}function u(a,n){a.stopPropagation();var o=t.filter((function(e){return n!==e.id}));e.setTasks(o)}function g(a,o,r,l){var c=o.replace(/(^\s*)|(\s*$)/g,""),s=t.map((function(e){return a===e.id?Object(n.a)(Object(n.a)({},e),{name:c,completedPomodoros:""===r?0:parseInt(r),targetPomodoros:""===l?0:parseInt(l)}):e})).map((function(e){return 0!==e.targetPomodoros&&e.targetPomodoros===e.completedPomodoros?Object(n.a)(Object(n.a)({},e),{},{completed:!0}):0!==e.targetPomodoros&&e.targetPomodoros!==e.completedPomodoros?Object(n.a)(Object(n.a)({},e),{},{completed:!1}):e}));e.setTasks(s)}var p,f=t.filter(O[s]).map((function(t){return l.a.createElement(N,{id:t.id,name:t.name,completed:t.completed,key:t.id,toggleTaskCompleted:m,deleteTask:u,editTask:g,lang:e.lang,LANG_MAP:e.LANG_MAP,completedPomodoros:t.completedPomodoros,targetPomodoros:t.targetPomodoros,updateCurrentTask:d,current:t.current})})),h=j.map((function(t){return l.a.createElement(P,{key:t,name:t,isPressed:t===s,setFilter:i,lang:e.lang,LANG_MAP:e.LANG_MAP})})),k=1!==f.length?"tasks":"task";if("en"===e.lang)switch(s){case"All":p="".concat(f.length," ").concat(k," in total");break;default:p="".concat(f.length," ").concat(k," ").concat(s.toLowerCase())}else p="".concat(e.LANG_MAP[s]," ").concat(f.length," \u4ef6\u4e8b");var A=Object(r.useRef)(null),y=b(t.length);return Object(r.useEffect)((function(){t.length-y===-1&&A.current.focus()}),[t.length,y]),l.a.createElement("div",{id:"todoapp",className:"stack-large"},l.a.createElement("h1",null,"en"===e.lang?"Todos":e.LANG_MAP.Todos),l.a.createElement(v,{addTask:function(a,n){var o=a.replace(/(^\s*)|(\s*$)/g,""),r={id:"todo-"+Object(L.a)(),name:o,completed:!1,completedPomodoros:0,targetPomodoros:""===n?0:parseInt(n)};e.setTasks([].concat(Object(E.a)(t),[r]))},lang:e.lang,LANG_MAP:e.LANG_MAP}),l.a.createElement("div",{className:"filters btn-group stack-exception"},h),l.a.createElement("h2",{id:"list-heading",tabIndex:"-1",ref:A},p),l.a.createElement("ul",{role:"list",className:"todo-list stack-large stack-exception","aria-labelledby":"list-heading"},f))}var y=[{id:"todo-0",name:"Eat",completed:!1,completedPomodoros:1,targetPomodoros:2,current:!0},{id:"todo-1",name:"Sleep",completed:!1,completedPomodoros:0,targetPomodoros:0,current:!1},{id:"todo-2",name:"Repeat",completed:!1,completedPomodoros:0,targetPomodoros:0,current:!1}],T={Pomodoro:"\u8543 \u8304 \u9418",Work:"\u5de5 \u4f5c",Break:"\u4f11 \u606f",Todos:"\u5f85\u8fa6\u4e8b\u9805",Todo:"\u5f85\u8fa6\u4e8b\u9805","What needs to be done?":"\u6709\u4e8b\u55ce\uff1f",Add:"\u65b0\u589e",All:"\u5168\u90e8",Active:"\u5f85\u8fa6",Completed:"\u5b8c\u6210",Edit:"\u7de8\u8f2f",Delete:"\u522a\u9664",Check:"\u6a19\u8a18\u5b8c\u6210",Cancel:"\u53d6\u6d88",Save:"\u5132\u5b58",Progress:"\u9032\u5ea6","Target Pomodoros":"\u76ee\u6a19\u756a\u8304\u6578","Completed Pomodoros":"\u5b8c\u6210\u756a\u8304\u6578",Pomodoros:"\u756a\u8304\u6578","Add a task":" \u505a\u9ede\u4e8b\u5427"};function C(){null===localStorage.getItem("localTodo")&&localStorage.setItem("localTodo",JSON.stringify(y));var e=JSON.parse(localStorage.getItem("localTodo")),t=Object(r.useState)(e),a=Object(o.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)("en"),m=Object(o.a)(i,2),d=m[0],u=m[1],g=Object(r.useState)(c.filter((function(e){return e.current}))[0]),p=Object(o.a)(g,2),f=p[0],b=p[1];return Object(r.useEffect)((function(){var e;e=c,localStorage.setItem("localTodo",JSON.stringify(e)),b(c.filter((function(e){return e.current}))[0])}),[c]),Object(r.useEffect)((function(){document.documentElement.setAttribute("lang",d)}),[d]),l.a.createElement("div",{id:"App"},l.a.createElement("button",{"aria-label":"switch language to ".concat("en"===d?"Mandarin":"English"),id:"language-btn",onClick:function(){u("en"===d?"zh-TW":"en")},"aria-live":"polite"},"en"===d?"\u7e41\u9ad4\u4e2d\u6587":"English"),l.a.createElement(k,{lang:d,LANG_MAP:T,currentTask:f,updateTaskProgress:function(e){var t=c.map((function(t){return e===t.id&&t.completedPomodoros!==t.targetPomodoros?Object(n.a)(Object(n.a)({},t),{completedPomodoros:t.completedPomodoros+1}):t})).map((function(e){return 0!==e.targetPomodoros&&e.targetPomodoros===e.completedPomodoros?Object(n.a)(Object(n.a)({},e),{},{completed:!0}):0!==e.targetPomodoros&&e.targetPomodoros!==e.completedPomodoros?Object(n.a)(Object(n.a)({},e),{},{completed:!1}):e}));s(t)}}),l.a.createElement(A,{tasks:c,lang:d,LANG_MAP:T,setTasks:s}))}s.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9bc9d549.chunk.js.map