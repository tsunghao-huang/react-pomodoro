(this["webpackJsonpreact-pomodoro"]=this["webpackJsonpreact-pomodoro"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(7),r=n.n(s),o=(n(13),n(2)),l=n(3),c=n(1),u=n(5),h=n(4),d=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{id:"".concat(this.props.value.toLowerCase(),"-panel"),className:"control-panel"},i.a.createElement("button",{"aria-label":"set ".concat(this.props.value.toLowerCase()," to default duration."),id:"default-".concat(this.props.value.toLowerCase()),onClick:this.props.handleDefaultBtn},this.props.english?this.props.value:this.props.mandarinLabel[this.props.value]),i.a.createElement("div",null,i.a.createElement("button",{"aria-label":"decrement ".concat(this.props.value.toLowerCase()," duration by 1 minute."),id:"".concat(this.props.value.toLowerCase(),"-decrement"),onClick:this.props.handleInDecrement,className:"btn-level"},i.a.createElement("i",{className:"fa fa-arrow-down fa-2x","aria-hidden":"true"})),i.a.createElement("p",{"aria-label":"Custom ".concat(this.props.value),"aria-live":"assertive",id:"".concat(this.props.value.toLowerCase(),"-length"),className:"btn-level"},this.props.length),i.a.createElement("button",{"aria-label":"increment ".concat(this.props.value.toLowerCase()," duration by 1 minute."),id:"".concat(this.props.value.toLowerCase(),"-increment"),onClick:this.props.handleInDecrement,className:"btn-level"},i.a.createElement("i",{className:"fa fa-arrow-up fa-2x","aria-hidden":"true"}))))}}]),n}(i.a.Component);function m(e){return i.a.createElement("div",{id:"display-panel","aria-label":"display panel"},i.a.createElement("p",{id:"timer-label","aria-label":"Currently counting for ".concat(e.currentCounting)},e.english?e.currentCounting:e.mandarinLabel[e.currentCounting]),i.a.createElement("p",{id:"time-left",role:"timer","aria-label":"Duration for ".concat(e.currentCounting)},e.timeLeft),i.a.createElement("div",null,i.a.createElement("button",{"aria-label":"start ".concat(e.currentCounting),id:"start_stop",onClick:e.handleStartToggle,className:"btn-level"},i.a.createElement("i",{className:"fa fa-play fa-3x"}),i.a.createElement("i",{className:"fa fa-pause fa-3x"})),i.a.createElement("button",{"aria-label":"reset to session, 25 minutes.",id:"reset",onClick:e.handleReset,className:"btn-level"},i.a.createElement("i",{className:"fa fa-refresh fa-3x"}))))}var g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={breakLength:5,sessionLength:25,timeLeft:1500,counting:!1,currentCounting:"Session",english:!0},a.handleReset=a.handleReset.bind(Object(c.a)(a)),a.clockify=a.clockify.bind(Object(c.a)(a)),a.handleStartToggle=a.handleStartToggle.bind(Object(c.a)(a)),a.tick=a.tick.bind(Object(c.a)(a)),a.handleInDecrement=a.handleInDecrement.bind(Object(c.a)(a)),a.handleDefaultBtn=a.handleDefaultBtn.bind(Object(c.a)(a)),a.handleLanguage=a.handleLanguage.bind(Object(c.a)(a)),a}return Object(l.a)(n,[{key:"handleLanguage",value:function(){this.setState({english:!this.state.english}),this.state.english?document.documentElement.setAttribute("lang","zh-TW"):document.documentElement.setAttribute("lang","en")}},{key:"handleReset",value:function(){this.setState({breakLength:5,sessionLength:25,timeLeft:1500,counting:!1,currentCounting:"Session"}),clearInterval(this.intervalID);var e=document.getElementById("beep");e.pause(),e.currentTime=0,document.getElementById("time-left").style.color=null,document.getElementsByTagName("title")[0].text="Pomodoro Clock"}},{key:"handleDefaultBtn",value:function(e){this.state.counting||(e.target.id.includes("session")?this.setState({sessionLength:25,timeLeft:1500,counting:!1,currentCounting:"Session"}):this.setState({breakLength:5,timeLeft:300,counting:!1,currentCounting:"Break"}))}},{key:"handleInDecrement",value:function(e){if(!this.state.counting)switch("".concat(e.currentTarget.id,",current:").concat(this.state.currentCounting)){case"break-decrement,current:Session":return this.state.breakLength>1?void this.setState((function(e){return{breakLength:e.breakLength-1}})):void 0;case"break-increment,current:Session":return this.state.breakLength<60?void this.setState((function(e){return{breakLength:e.breakLength+1}})):void 0;case"break-decrement,current:Break":return this.state.breakLength>1?void this.setState((function(e){return{breakLength:e.breakLength-1,timeLeft:e.timeLeft-60}})):void 0;case"break-increment,current:Break":return this.state.breakLength<60?void this.setState((function(e){return{breakLength:e.breakLength+1,timeLeft:e.timeLeft+60}})):void 0;case"session-decrement,current:Session":return this.state.sessionLength>1?void this.setState((function(e){return{sessionLength:e.sessionLength-1,timeLeft:e.timeLeft-60}})):void 0;case"session-increment,current:Session":return this.state.sessionLength<60?void this.setState((function(e){return{sessionLength:e.sessionLength+1,timeLeft:e.timeLeft+60}})):void 0;case"session-decrement,current:Break":return this.state.sessionLength>1?void this.setState((function(e){return{sessionLength:e.sessionLength-1}})):void 0;case"session-increment,current:Break":return this.state.sessionLength<60?void this.setState((function(e){return{sessionLength:e.sessionLength+1}})):void 0;default:return}}},{key:"tick",value:function(){var e=this;if(this.state.timeLeft<=60?document.getElementById("time-left").style.color="#F8BFCE":document.getElementById("time-left").style.color=null,this.state.timeLeft<=0){clearInterval(this.intervalID),document.getElementById("beep").play();var t="Session"===this.state.currentCounting?"Break":"Session",n="Session"===this.state.currentCounting?60*this.state.breakLength:60*this.state.sessionLength;return document.getElementById("time-left").style.color=null,this.setState({timeLeft:n,currentCounting:t}),void(this.intervalID=setInterval((function(){e.tick()}),1e3))}this.setState({timeLeft:this.state.timeLeft-1}),document.getElementsByTagName("title")[0].text="(".concat(this.clockify(this.state.timeLeft),") Pomodoro Clock")}},{key:"handleStartToggle",value:function(){var e=this;this.state.counting?clearInterval(this.intervalID):this.intervalID=setInterval((function(){e.tick()}),1e3),this.setState((function(t){return{counting:!e.state.counting}}))}},{key:"clockify",value:function(e){var t=Math.floor(e/60),n=e-60*t;return(t=t<10?"0"+t:t)+":"+(n=n<10?"0"+n:n)}},{key:"render",value:function(){var e=this,t={"Pomodoro Clock":"\u8543 \u8304 \u9418",Session:"\u5de5 \u4f5c",Break:"\u4f11 \u606f"},n=["Break","Session"].map((function(n){return i.a.createElement(d,{value:n,key:"".concat(n,"-panel"),currentCounting:e.state.currentCounting,length:e.state["".concat(n.toLowerCase(),"Length")],handleInDecrement:e.handleInDecrement,handleDefaultBtn:e.handleDefaultBtn,english:e.state.english,mandarinLabel:t})}));return i.a.createElement("div",{id:"pomodoro-panel"},i.a.createElement("h1",null,this.state.english?"Pomodoro Clock":t["Pomodoro Clock"]),i.a.createElement("button",{"aria-label":"switch language to ".concat(this.state.english?"Mandarin":"English"),id:"language-btn",onClick:this.handleLanguage},this.state.english?"\u7e41\u9ad4\u4e2d\u6587":"English"),i.a.createElement(m,{timeLeft:this.clockify(this.state.timeLeft),handleReset:this.handleReset,handleStartToggle:this.handleStartToggle,currentCounting:this.state.currentCounting,english:this.state.english,mandarinLabel:t}),i.a.createElement("div",{id:"control-panels-group"},n),i.a.createElement("audio",{id:"beep",preload:"auto",src:"https://raw.githubusercontent.com/tsunghao-huang/react-pomodoro/gh-pages/homeland.mp3"}))}}]),n}(i.a.Component);function f(){return i.a.createElement("div",null,i.a.createElement(g,null))}r.a.render(i.a.createElement(f,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.a2ca1f85.chunk.js.map